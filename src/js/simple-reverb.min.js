function SimpleReverb(a,b){this.input=this.output=a.createConvolver();this._context=a;var d=this.meta.params;b=b||{};this._seconds=b.seconds||d.seconds.defaultValue;this._decay=b.decay||d.decay.defaultValue;this._reverse=b.reverse||d.reverse.defaultValue;this._buildImpulse()}
SimpleReverb.prototype=Object.create(null,{connect:{value:function(a){this.output.connect(a.input?a.input:a)}},disconnect:{value:function(){this.output.disconnect()}},_buildImpulse:{value:function(){if(0==this.seconds)return!1;var a=this._context.sampleRate,b=a*this.seconds,d=this.decay,a=this._context.createBuffer(2,b,a),f=a.getChannelData(0),g=a.getChannelData(1),e,c;for(c=0;c<b;c++)e=this.reverse?b-c:c,f[c]=(2*Math.random()-1)*Math.pow(1-e/b,d),g[c]=(2*Math.random()-1)*Math.pow(1-e/b,d);this.input.buffer=
a}},meta:{value:{name:"SimpleReverb",params:{seconds:{min:1,max:50,defaultValue:3,type:"float"},decay:{min:0,max:100,defaultValue:2,type:"float"},reverse:{min:0,max:1,defaultValue:0,type:"bool"}}}},seconds:{enumerable:!0,get:function(){return this._seconds},set:function(a){this._seconds=a;this._buildImpulse()}},decay:{enumerable:!0,get:function(){return this._decay},set:function(a){this._decay=a;this._buildImpulse()}},reverse:{enumerable:!0,get:function(){return this._reverse},set:function(a){this._reverse=
a;this._buildImpulse()}}});

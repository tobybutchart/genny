var MSG_HEADER_FONT="Verdana, sans-serif",MSG_CONTENT_FONT="Verdana, sans-serif",MSG_HEADER_FONT_COLOUR="#FFFFFF",MSG_CONTENT_FONT_COLOUR="#FFFFFF",MSG_CONTENT_MAX_WIDTH="386px",MSG_SUCCESS_COLOUR="#4caf50",MSG_INFO_COLOUR="#2196F3",MSG_WARNING_COLOUR="#ff9800",MSG_ERROR_COLOUR="#d32f2f",MSG_CONFIRM_COLOUR="#7308B0",MSG_INPUT_COLOUR="#7308B0",MSG_CUSTOM_COLOUR="#4caf50",MSG_TEXT_OK="OK",MSG_TEXT_CANCEL="Cancel",MSG_TEXT_CONFIRM_OK="OK",MSG_TEXT_CONFIRM_CANCEL="Cancel",MSG_TEXT_SUCCESS="Success!",
MSG_TEXT_INFO="Info...",MSG_TEXT_WARNING="Warning!",MSG_TEXT_ERROR="Error!",MSG_TEXT_CONFIRM="Confirm?",MSG_TEXT_INPUT="Input",MSG_USE_ICONS=!0;function mainMsg(){return document.getElementById("msg-main")}var onMsgKeyDown=function(a){var e=document.getElementById("msg-close"),g=document.getElementById("msg-cancel");a=a||window.event;"Escape"===a.key&&(g?g.click():e&&e.click());"Enter"===a.key&&e&&e.click()};
function buildMsg(a,e,g,c){var h=document.createElement("div"),b=document.createElement("div"),d=document.createElement("div"),n=document.createElement("i"),p=document.createElement("h2"),m=document.createElement("div"),k=document.createElement("div"),f=document.createElement("button"),t=document.createElement("i"),l,q,r;if("confirm"==a.toLowerCase()||"input"==a.toLowerCase())l=document.createElement("button"),q=document.createElement("i");"input"==a.toLowerCase()&&(r=document.createElement("input"),
r.type="text",r.id="msg-input");h.style.display="none";h.id="msg-main";h.classList.add("msg-main");b.id="msg-content";b.classList.add("msg-content");h.appendChild(b);d.id="msg-header";d.classList.add("msg-header");b.appendChild(d);MSG_USE_ICONS&&(n.id="msg-icon",n.classList.add("material-icons","msg-icon"),"function"===typeof isExtension&&isExtension()&&(n.style.paddingTop="5px"),d.appendChild(n));p.id="msg-title";p.classList.add("msg-title");d.appendChild(p);m.id="msg-body";m.classList.add("msg-body");
b.appendChild(m);"input"==a.toLowerCase()&&m.appendChild(r);k.id="msg-footer";k.classList.add("msg-footer");b.appendChild(k);f.id="msg-close";f.classList.add("msg-close");f.innerHTML="confirm"==a.toLowerCase()?MSG_TEXT_CONFIRM_OK:MSG_TEXT_OK+"&nbsp;";f.onclick=function(){var b=document.getElementById("msg-input"),d=b?b.value:"";if(b&&!d)return b.focus(),!1;closeMsg();"function"===typeof e&&("input"==a.toLowerCase()?e(c,d):e(f))};k.appendChild(f);MSG_USE_ICONS&&(t.classList.add("material-icons"),t.innerHTML=
"check",f.appendChild(t));if("confirm"==a.toLowerCase()||"input"==a.toLowerCase())l.id="msg-cancel",l.classList.add("msg-close"),l.innerHTML="confirm"==a.toLowerCase()?MSG_TEXT_CONFIRM_CANCEL:MSG_TEXT_CANCEL+"&nbsp;",l.onclick=function(){closeMsg();"function"===typeof g&&g(l)},k.appendChild(l),MSG_USE_ICONS&&(q.classList.add("material-icons"),q.innerHTML="close",l.appendChild(q));document.body.appendChild(h)}
function showMsg(a,e,g,c,h,b){if("undefined"===typeof e||""===e)return!1;buildMsg(a,g,c,b);g=document.getElementById("msg-content");c=document.getElementById("msg-icon");b=document.getElementById("msg-title");var d=document.getElementById("msg-header"),n=document.getElementById("msg-footer"),p=document.getElementById("msg-body"),m=document.getElementById("msg-close"),k=document.getElementById("msg-cancel");d.style.color=MSG_HEADER_FONT_COLOUR;g.style.color=MSG_CONTENT_FONT_COLOUR;g.style.maxWidth=
MSG_CONTENT_MAX_WIDTH;c&&(c.style.color=MSG_HEADER_FONT_COLOUR);switch(a.toLowerCase()){case "success":d.style.backgroundColor=MSG_SUCCESS_COLOUR;b.innerHTML=MSG_TEXT_SUCCESS;c&&(c.innerHTML="check_circle");break;case "info":d.style.backgroundColor=MSG_INFO_COLOUR;b.innerHTML=MSG_TEXT_INFO;c&&(c.innerHTML=a.toLowerCase());break;case "warning":d.style.backgroundColor=MSG_WARNING_COLOUR;b.innerHTML=MSG_TEXT_WARNING;c&&(c.innerHTML=a.toLowerCase());break;case "error":d.style.backgroundColor=MSG_ERROR_COLOUR;
b.innerHTML=MSG_TEXT_ERROR;c&&(c.innerHTML=a.toLowerCase());break;case "confirm":d.style.backgroundColor=MSG_CONFIRM_COLOUR;b.innerHTML=MSG_TEXT_CONFIRM;c&&(c.innerHTML="help");break;case "input":d.style.backgroundColor=MSG_INPUT_COLOUR;b.innerHTML=MSG_TEXT_INPUT;c&&(c.innerHTML=a.toLowerCase());break;default:d.style.backgroundColor=MSG_CUSTOM_COLOUR,b.innerHTML=a.toLowerCase(),c&&(c.innerHTML="")}p.innerHTML=e+p.innerHTML;var f;h&&(f=document.getElementById("msg-input"))&&(f.value=h);d.style.fontFamily=
MSG_HEADER_FONT;n.style.fontFamily=MSG_HEADER_FONT;g.style.fontFamily=MSG_CONTENT_FONT;m.style.fontFamily=MSG_HEADER_FONT;k&&(k.style.fontFamily=MSG_HEADER_FONT);mainMsg().style.display="block";document.addEventListener("keydown",onMsgKeyDown,!1);f?f.focus():m.focus();return!0}function closeMsg(){mainMsg().style.display="none";mainMsg().remove();document.removeEventListener("keydown",onMsgKeyDown,!1)};
